{{ $site := .site }}
{{ $content := .content }}
<div data-solus-component="download-content">
	<h1>Install today. Updates forever.</h1>
	<div data-solus-component="download-grid">
		{{ range $edition := (slice "Budgie" "MATE" "GNOME") }}
			{{ $editionInfo := (index $site.Data.isos.info $edition )}}
			<!-- For each edition -->
			<div data-solus-component="solus-edition">
				<img alt="Solus {{ $edition }} Image" src="{{ $site.BaseURL}}/imgs/release-images/{{ $site.Data.isos.info.Version }}/{{ $edition }}.png" />
				<h2>Solus {{ $edition  }}</h2>
				<p>{{ $editionInfo.description }}</p>
				<section data-solus-component="solus-direct-download">
					<div data-solus-component="button-group">
						<button data-solbit="button" data-solus-component="solus-closest-download"></button>
						<button data-solbit="button" data-solus-component="solus-all-mirrors"></button>
						<div data-solus-minor-component="solus-media-regions">
							{{ range $locationKey := (slice "americas" "europe") }}
								{{ $locationInfo := (index $site.Data.isos $locationKey) }}
								<span>
									<b>{{ $locationInfo.Name }}</b>
									{{ range $location, $info := $locationInfo.Locations  }}
										{{ $typeURLArr := split $info "|"}}
										{{ $type := index $typeURLArr 0 }}
										{{ $url := index $typeURLArr 1 }}
										{{ $locationName := (replace $location "_" " ") }}
										{{ $fullurl := printf "%sSolus-%s-%s.iso" $url $site.Data.isos.info.Version $edition | safeURL }}
										<div>
											<a href="{{ $fullurl }}" data-solbit-icon="{{ $type }}" title="{{ humanize $type }}">{{- $locationName -}}</a>
										</div>
									{{ end }}
								</span>
							{{ end }}
						</div>
					</div>
				</section>
				<section data-solus-minor-component="solus-extra-info">
					Media Size: {{ $editionInfo.mediasize }}<br />
					Alternative Download: <a href="{{ $editionInfo.torrent }}">Torrent</a><br />
					{{ $sha256url := printf "http://soluslond1iso.stroblindustries.com/Solus-%s-%s.sha256sum" $site.Data.isos.info.Version $edition | safeURL }}
					SHA256SUMS: <a href="{{ $sha256url }}" target="_blank">File</a> | <a href="{{ $sha256url }}.sign" target="_blank">GPG Signed File</a> | <a href="https://archive.solus-project.com/solus.gpg" target="_blank">GPG Public Key</a>
				</section>
			</div>
		{{ end }}
		<div data-solus-component="solus-download-info">
			<hr />
			{{ $content }}
		</div>
	</div>
</div>